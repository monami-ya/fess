$(function(){var c=$("#result");var d=$("#queryId");var e=$(".favorite",c);var a=$("#searchButton");var b=$("#contextPath").val();$("#searchForm").on("submit",function(f){a.attr("disabled",true);setTimeout(function(){a.attr("disabled",false)},3000);return true});$("[data-toggle='control-options']").click(function(g){g.preventDefault();var f=$(this).attr("data-target")||$(this).attr("href");if(f){$(f).toggleClass("active")}});$("#searchOptionsClearButton").on("click",function(f){$("#labelTypeSearchOption").prop("selectedIndex",-1);$("#langSearchOption").prop("selectedIndex",0);$("#sortSearchOption").prop("selectedIndex",0);$("#numSearchOption").prop("selectedIndex",0);return false});c.on("mousedown","a.link",function(m){var g=$(this).attr("data-id"),l=$("#rt").val(),j=$("#queryId").val(),i=$(this).attr("data-order"),f=$(this).attr("href"),h=[];h.push(b);h.push("/go/?rt=");h.push(l);h.push("&docId=");h.push(g);h.push("&queryId=");h.push(j);h.push("&order=");h.push(i);var k=f.indexOf("#");if(k>=0){var n=f.substring(k);h.push("&hash=");h.push(encodeURIComponent(n));h.push(n)}$(this).attr("href",h.join(""))});c.on("mouseover","a.link",function(l){var j=$(this).attr("data-id"),f=$("#rt").val(),h=$(this).attr("href"),k=d.val(),g=[];g.push(b);g.push("/go/?rt=");g.push(f);g.push("&docId=");g.push(j);var i=h.indexOf("#");if(i>=0){var m=h.substring(i);g.push("&hash=");g.push(encodeURIComponent(m));g.push(m)}});c.on("click","a.favorite",function(i){var j=$(this);var f=j.attr("href").split("#");if(f.length===2&&d.size()>0){var h=b+"/json";var g=f[1];$.ajax({dataType:"json",cache:false,type:"post",timeoutNumber:10000,url:h,data:{type:"favorite",docId:g,queryId:d.val()}}).done(function(l){if(l.response.status===0&&typeof l.response.result!=="undefined"&&l.response.result==="ok"){var m=j.siblings(".favorited");var k=$(".favorited-count",m);k.css("display","none");j.fadeOut(1000,function(){m.fadeIn(1000)})}}).fail(function(k){j.attr("href","#"+g)})}$(this).attr("href","#");return false});if(e.size()>0){$.ajax({dataType:"json",cache:false,type:"post",timeoutNumber:10000,url:b+"/json",data:{type:"favorites",queryId:d.val()}}).done(function(g){if(g.response.status===0&&typeof g.response.num!=="undefined"&&g.response.num>0){var h=g.response.doc_ids;for(var f=0;f<h.length;f++){h[f]="#"+h[f]}e.each(function(k){var n=$(this);var j=n.attr("href");var m=false;for(var l=0;l<h.length;l++){if(j==h[l]){m=true;break}}if(m){var o=n.siblings(".favorited");n.fadeOut(1000,function(){o.fadeIn(1000)})}})}}).fail(function(f){})}c.on("click",".more a",function(i){var h=$(this);var g=h.attr("href");if(g!=""){var f=$(g+" .info");if(f.size()>0){h.fadeOut(500,function(){f.slideDown("slow")})}}return false});$("#query").suggestor({ajaxinfo:{url:b+"/suggest",fn:"_default,content,title",num:10},boxCssInfo:{border:"1px solid rgba(82, 168, 236, 0.5)","-webkit-box-shadow":"0 1px 1px 0px rgba(0, 0, 0, 0.1), 0 3px 2px 0px rgba(82, 168, 236, 0.2)","-moz-box-shadow":"0 1px 1px 0px rgba(0, 0, 0, 0.1), 0 3px 2px 0px rgba(82, 168, 236, 0.2)","box-shadow":"0 1px 1px 0px rgba(0, 0, 0, 0.1), 0 3px 2px 0px rgba(82, 168, 236, 0.2)","background-color":"#fff","z-index":"10000"},listSelectedCssInfo:{"background-color":"rgba(82, 168, 236, 0.1)"},listDeselectedCssInfo:{"background-color":"#ffffff"},minturm:1,adjustWidthVal:11,searchForm:$("#searchForm")})});